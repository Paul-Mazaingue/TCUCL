<div class="no-scroll">
  <div class="forgot-password-container">
    <div class="forgot-password-form">
      @if (!isSubmitted) {
        <h2>Réinitialiser votre mot de passe</h2>
        <form (ngSubmit)="onSubmit()">
          <div class="form-group">
            <p>Adresse email:</p>
            <input
              type="email"
              id="email"
              name="email"
              [(ngModel)]="email"
              required
              placeholder="votre@email.com"
            >
          </div>
          <p class="info-text">
            Un lien de réinitialisation sera envoyé à votre adresse email. Ce lien est valide pendant 10 minutes.
          </p>
          <button type="submit" [disabled]="isLoading">
            {{ isLoading ? 'Envoi en cours...' : 'Réinitialiser mon mot de passe' }}
          </button>
          @if (errorMessage) {
            <p class="error-message">{{ errorMessage }}</p>
          }
        </form>
        <p class="back-link">
          <a href="#" (click)="backToLogin(); $event.preventDefault()">Retour à la connexion</a>
        </p>
      } @else {
        <div class="success-message">
          <h2>Vérifiez votre email</h2>
          <p>
            Si un compte correspond à cette adresse email, un lien de réinitialisation a été envoyé.
          </p>
          <p>
            Vérifiez votre dossier de courrier indésirable si vous ne recevez pas l'email.
          </p>
          <button (click)="backToLogin()">Retour à la connexion</button>
        </div>
      }
    </div>
  </div>
</div>
